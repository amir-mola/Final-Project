}
movies <- read.csv("../data/tmbd_data.csv", stringsAsFactors = FALSE)
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
movies <- read.csv("../data/tmbd_data.csv", stringsAsFactors = FALSE)
library(gtrendsR)
library(dplyr)
source("tmdb_dataset.R")
library(gtrendsR)
library(dplyr)
source("tmdb_dataset.R")
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
source("tmdb_dataset.R")
source("tmdb_dataset.R")
movie1 <- make_csv(1, 40)
library(gtrendsR)
library(dplyr)
source("tmdb_dataset.R")
source("tmdb_dataset.R")
source("api.R")
source("tmdb_dataset.R")
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
source("api.R")
source("api.R")
source("tmdb_dataset.R")
library(gtrendsR)
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
library(dplyr)
source("tmdb_dataset.R")
View(page1)
View(page1)
View(page2)
View(page2)
movie1 <- make_csv(1, 40)
data <-
# get 41-80 pages, should be 800 rows, if not wait 20 seconds to run the code
movie2 <- make_csv(41, 80)
data <- read.csv(file = "../data/tmbd_data.csv")
data <- read.csv(file = "data/tmbd_data.csv")
data <- read.csv(file = "../data/tmbd_data.csv")
View(data)
View(data)
data2 <- read.csv(file = "../data/tmbd_data.csv")
data2 <- read.csv(file = "../data/tmbd_data.csv")
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
data2 <- read.csv(file = "../data/tmbd_data.csv")
data2 <- read.csv("../data/tmbd_data.csv")
data2 <- read.csv("./data/tmbd_data.csv")
data2 <- read.csv("../data/tmbd_data.csv/")
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/a6-mapping-shootings-amir-mola")
# Summary Information ----------------------------------------------------
data <- read.csv(file = "data/shootings-2018.csv", stringsAsFactors = FALSE)
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
data2 <- read.csv("data/tmbd_data.csv/")
data2 <- read.csv("data/tmbd_data.csv")
data2 <- read.csv("..data/tmbd_data.csv")
file.path("data", "tmbd_data.csv")
data2 <- read.csv("data/tmbd_data.csv")
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
data2 <- read.csv("data/tmbd_data.csv")
data2 <- read.csv("../data/tmbd_data.csv")
data2 <- read.csv("../data")
data2 <- read.csv("../data")
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project")
data2 <- read.csv("../data/tmbd_data.csv")
data2 <- read.csv("data/tmbd_data.csv")
amir<-read.csv("tmbd_data.csv")
amir<-read.csv("tmdb_data.csv")
amir<-read.csv("tmdb_data.csv")
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
data2 <- read.csv("data/tmdb_data.csv")
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
data2 <- read.csv("../data/tmdb_data.csv")
movie1 <- make_csv(1, 40)
# get 41-80 pages, should be 800 rows, if not wait 20 seconds to run the code
movie2 <- make_csv(41, 80)
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
View(data2)
View(data2)
library(gtrendsR)
library(dplyr)
gtrends(keyword="obama",geo="US-AL-630")
library(gtrendsR)
gtrends(keyword="obama",geo="US-AL-630")
data("categories")
install.packages("gtrendsR")
install.packages("gtrendsR")
install.packages("gtrendsR")
library(gtrendsR)
gtrends(keyword="obama",geo="US-AL-630")
plot(gtrendsR::gtrends(keyword = "Superbowl", geo = "US", time = "2017-12-10 2018-01-20"))
res <- gtrends(c("nhl", "nba"), geo = c("CA", "US"))
View(categories)
library(gtrendsR)
library(dplyr)
install.packages("drat")
drat:::add("ghrr")
install.packages("gtrendsR")
install.packages("gtrendsR")
gtrends(c("nhl", "nba"), geo = c("CA", "US"))
library(gtrendsR)
gtrends(c("nhl", "nba"), geo = c("CA", "US"))
devtools::install_github('diplodata/gtrendsR')
library(gtrendsR)
gtrends(keyword = "dry", geo = c("CA", "US"), time = "now 7-d",
gprop = c("web"),
category = 0,
hl = "en-US",
low_search_volume = T)
library(gtrendsR)
gTrends <- gtrends("Champions", time = "today 1-m")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
library(gtrendsR)
library(gtrendsR)
gTrends <- gtrends("Champions", time = "today 1-m")
const googleTrends = require('google-trends-api')
library(gtrendsR)
library(reshape2)
google.trends = gtrends(c("blu-ray"), gprop = "web", time = "all")[[1]]
google.trends = dcast(google.trends, date ~ keyword + geo, value.var = "hits")
rownames(google.trends) = google.trends$date
google.trends$date = NULL
library(gtrendsR)
usr <- "<Google account email>"
psw <- "<Google account password>"
gconnect(usr, psw)
library(gtrendsR)
gconnect(usr, psw)
gconnect(user = usr, psw = psw)
.getDefaultConnection()
gtrends("amir")
gtrends(keyword = NA, geo = "", time = "today+5-y", gprop = c("web",
"news", "images", "froogle", "youtube"), category = 0, hl = "en-US",
low_search_volume = FALSE)
gtrends("obama")
gtrendsR::gtrends("obama")
gtrendsR::gtrends("obama",widget$status_code == 200)
gtrendsR::gtrends("obama",widget$status_code == FALSE)
gtrendsR::gtrends("obama",widget$status_code == FALSE)
gtrends("obama")
amir <- GET https://www.googleapis.com/customsearch/v1?q=%22Avengers%22&key={AIzaSyCWgJ48KdonKYcptNb3O4s2QQkbOnaDInw}
amir <- GET(https://www.googleapis.com/customsearch/v1?q=%22Avengers%22&key={AIzaSyCWgJ48KdonKYcptNb3O4s2QQkbOnaDInw})
amir <- GET("https://www.googleapis.com/customsearch/v1?q=%22Avengers%22&key={AIzaSyCWgJ48KdonKYcptNb3O4s2QQkbOnaDInw}")
library(httr)
library(jsonlite)
amir <- GET("https://www.googleapis.com/customsearch/v1?q=%22Avengers%22&key={AIzaSyCWgJ48KdonKYcptNb3O4s2QQkbOnaDInw}")
View(amir)
View(amir)
parsed_data <- fromJSON(content(amir, "text"))
View(parsed_data)
View(parsed_data)
library(gtrendsR)
gtrends("ar")
library(gtrendsR)
res <- gtrends(keyword = "ÅAZIENKA", geo = "PL", category = 0, time = "2017-01-01 2017-02-01")
install.packages("curl")
install.packages("curl")
devtools::install_github("PMassicotte/gtrendsR")
library(gtrendsR)
gtrends("amir")
if (!require("devtools")) install.packages("devtools")
devtools::install_github("PMassicotte/gtrendsR")
devtools::install_github("PMassicotte/gtrendsR")force = TRUE
devtools::install_github("PMassicotte/gtrendsR",force = TRUE)
library(gtrendsR)
gtrends("obama", geo = "US
")
gtrends("obama", geo = "US")
remove.packages(gtrends)
remove.packages(gtrends, gtrends)
uninstall(c("gtrends", "gtrends"))
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
amir <- read.csv("../data/tmbd_data.csv")
amir <- read.csv("../data/tmdb_data.csv")
View(amir)
View(amir)
source("api.R")
source("api.R")
url <- function(movie_id, lang) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key, "&languag=", lang)
url_full <- paste0(base_url, resource)
}
url(3333, "en")
return(url_full)
source("api.R")
url <- function(movie_id, lang) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key, "&languag=", lang)
url_full <- paste0(base_url, resource)
return(url_full)
}
return(url_full)
return(url_full)
url_full <- paste0(base_url, resource)
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key, "&languag=", lang)
url_full <- paste0(base_url, resource)
return(url_full)
url <- function(movie_id, lang) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key, "&languag=", lang)
url_full <- paste0(base_url, resource)
return(url_full)
}
url(2222,en)
url <- function(movie_id, lang) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key, "&languag=", lang)
url_full <- paste0(base_url, resource)
return(url_full)
}
url <- function(movie_id, lang) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key, "&languag=", lang)
url_full <- paste0(base_url, resource)
return(url_full)
}
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key, "&languag=", lang)
url(1233,"amir")
View(amir)
View(amir)
https://api.themoviedb.org/3/movie/383498?api_key=d0c718e2a61b92b6173965005833dea8&language=en-US
url(383498,en-US)
url(383498,"en-US")
library(httr)
library(jsonlite)
source("api.R")
url <- function(movie_id, lang) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key, "&languag=", lang)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id, lang) {
response <- GET(url(movie_id, lang))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)$results
}
library(httr)
library(jsonlite)
source("api.R")
url <- function(movie_id) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key, "&languag=", lang)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id) {
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)$results
}
get_data(383498)
library(httr)
library(jsonlite)
source("api.R")
url <- function(movie_id) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id) {
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)$results
}
get_data(383498)
amir <- get-data(383498)
amir <- get_data(383498)
movie_id <- 383498
library(httr)
library(jsonlite)
source("api.R")
movie_id <- 383498
url <- function(movie_id) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id) {
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)$results
}
base_url <- "https://api.themoviedb.org"
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
response <- GET(url(movie_id))
View(response)
View(response)
response_content <- content(response, type = "text")
View(response)
View(response)
library(httr)
library(jsonlite)
response_content <- content(response, type = "text")
View(response)
View(response)
movie_id <- 383498
url_full <- paste0(base_url, resource)
url_full
https://api.themoviedb.org/3/movie/383498?api_key=d0c718e2a61b92b6173965005833dea8
response <- GET(url(movie_id))
View(response)
View(response)
response_content <- content(response, type = "text")
response_content <- content(response, type = "text")
body <- fromJSON(response_content)$results
View(body)
body <- fromJSON(response_content)
View(body)
library(httr)
library(jsonlite)
source("api.R")
url <- function(movie_id){
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id){
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
}
data_frame <- df()
data_frame <- as.data.frame()
data_frame <- data.frame()
library(httr)
library(jsonlite)
source("api.R")
url <- function(movie_id){
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id){
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
df <- data.frame()
df$companies <- body[["production_companies"]][["name"]]
df$companies_origin <- body[["production_companies"]][["origin_country"]]
df$countries <- body[["production_companies"]][["origin_country"]]
df$spoken_languages <- body[["spoken_languages"]][["iso_639_1"]]
}
get_data(299536)
library(httr)
library(jsonlite)
source("api.R")
url <- function(movie_id){
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id){
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
df <- data.frame()
df$companies <- body[["production_companies"]][["name"]]
df$companies_origin <- body[["production_companies"]][["origin_country"]]
df$countries <- body[["production_companies"]][["origin_country"]]
df$spoken_languages <- body[["spoken_languages"]][["iso_639_1"]]
}
library(httr)
library(jsonlite)
source("api.R")
url <- function(movie_id){
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id){
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
df <- data.frame()
df$companies <- body[["production_companies"]][["name"]]
df$companies_origin <- body[["production_companies"]][["origin_country"]]
df$countries <- body[["production_companies"]][["origin_country"]]
df$spoken_languages <- body[["spoken_languages"]][["iso_639_1"]]
return(df)
}
get_data(299536)
library(httr)
library(jsonlite)
source("api.R")
url <- function(movie_id){
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id){
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
C <- body[["production_companies"]][["name"]]
co <- body[["production_companies"]][["origin_country"]]
con <- body[["production_companies"]][["origin_country"]]
spl <- body[["spoken_languages"]][["iso_639_1"]]
df <- data.frame(c,co,con,spl)
return(df)
}
get_data(284053)
library(httr)
library(jsonlite)
source("api.R")
url <- function(movie_id){
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id){
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
C <- body[["production_companies"]][["name"]]
co <- body[["production_companies"]][["origin_country"]]
df <- data.frame(c,co)
return(df)
}
get_data(284053)
movie_id <- 284053
url <- function(movie_id){
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
return(url_full)
}
get_data <- function(movie_id){
response <- GET(url(movie_id))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
C <- body[["production_companies"]][["name"]]
co <- body[["production_companies"]][["origin_country"]]
df <- data.frame(c,co)
return(df)
}
View(boyd)
View(body)
data.frame(body[["production_companies"]][["name"]],body[["production_companies"]][["origin_country"]] )
amir <- data.frame(body[["production_companies"]][["name"]],body[["production_companies"]][["origin_country"]] )
View(amir)
View(amir)
library(httr)
library(jsonlite)
source("api.R")
# get the full url
url <- function(pagenum) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/discover/movie?api_key=", api_key, "&sort_by=popularity.desc&page=", pagenum)
url_full <- paste0(base_url, resource)
}
# get one page dataset
get_data <- function(pagenum) {
response <- GET(url(pagenum))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)$results
}
# get 40 pages of dataset at each time, take 15 seconds to get another 40 pages
make_csv <- function(first_page, total_page) {
last_page <- get_data(first_page)
for (i in first_page + 1:total_page) {
last_page <- rbind(last_page, get_data(i))
}
return(last_page)
}
page1 <- make_csv(1, 40)
page2 <- make_csv(41, 80)
get_data(2)
get_data(2)
setwd("C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts")
get_data(2)
get_data(4)
View(body)
# get the full url
pagenum <- 1
url <- function(pagenum) {
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/discover/movie?api_key=", api_key, "&sort_by=popularity.desc&page=", pagenum)
url_full <- paste0(base_url, resource)
}
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/discover/movie?api_key=", api_key, "&sort_by=popularity.desc&page=", pagenum)
url_full <- paste0(base_url, resource)
source("api.R")
library(jsonlite)
library(httr)
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/discover/movie?api_key=", api_key, "&sort_by=popularity.desc&page=", pagenum)
url_full <- paste0(base_url, resource)
response <- GET(url(pagenum))
response_content <- content(response, type = "text")
body <- fromJSON(response_content)$results
View(body)
View(body)
body <- fromJSON(response_content)
View(body)
