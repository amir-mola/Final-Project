<<<<<<< HEAD
# Create a variable `total_cost` that has the total cost of all of your puppies
total_cost <- 200
# Create a variable `puppy_price`, which is how much you think a puppy costs
puppy_price <- 200
# Assign your height (in inches) to a variable `my_height`
my_height <- 5.6
# Create a variable `total_cost` that has the total cost of all of your puppies
total_cost <- puppies * puppy_price
# Create a variable `puppies` equal to the number of puppies you'd like to have
puppies <- 5
# Create a variable `total_cost` that has the total cost of all of your puppies
total_cost <- puppies * puppy_price
# Create a boolean variable `too_expensive`, set to TRUE if the cost is greater
# than $1,000
total_cost > 1000
# Create a variable `max_puppies`, which is the number of puppies you can
# afford for $1,000
max_puppies <- 1000/puppy_price
# Create a boolean variable `too_expensive`, set to TRUE if the cost is greater
# than $1,000
too_expensive <- total_cost > 1000
# Create a variable `puppy_price`, which is how much you think a puppy costs
puppy_price <- 450
# Create a boolean variable `too_expensive`, set to TRUE if the cost is greater
# than $1,000
too_expensive <- total_cost > 1000
# Create a variable `max_puppies`, which is the number of puppies you can
# afford for $1,000
max_puppies <- 1000/puppy_price
# Create a boolean variable `too_expensive`, set to TRUE if the cost is greater
# than $1,000
too_expensive <- total_cost > 1000
# Create a variable `total_cost` that has the total cost of all of your puppies
total_cost <- puppies * puppy_price
# Create a boolean variable `too_expensive`, set to TRUE if the cost is greater
# than $1,000
too_expensive <- total_cost > 1000
# Create a variable `max_puppies`, which is the number of puppies you can
# afford for $1,000
max_puppies <- 1000 %% puppy_price
# Create a variable `max_puppies`, which is the number of puppies you can
# afford for $1,000
max_puppies <- 1000 %% puppy_price
# Create a variable `max_puppies`, which is the number of puppies you can
# afford for $1,000
max_puppies <- 1000/puppy_price
source('~/Desktop/info201/ch5-r-intro/exercise-1/exercise.R')
source('~/Desktop/info201/ch5-r-intro/exercise-1/exercise.R')
min(3, 1)
add_numbers <- function(a, b) {
answer <- a + b
}
add_numbers(100, 300)
add_numbers(100, 300)
add_numbers(100, 300)
add_numbers <- function(a, b) {
answer <- a + b
}
add_numbers(100, 300)
add_numbers(100, 30)
add_numbers <- function(a, b) {
answer <- a + b
answer
}
add_numbers(100, 300)
lyric <- "I like to eat apples and bananas"
intro <- substr(lyric)
?substr
# Use the `substr()` function to extract the 1st through 13th letters from the
# `lyric`, and store the result in a variable called `intro`
# Use `?substr` to see more about this function
intro <- substr(lyric, 1, 13)
nchar()
nchar(lyric)
fruits <- substr(14, 32)
fruits <- substr(lyric, 14, 32)
fruits <- substr(lyric, 15, 32)
?gsub
fruits_e <- gsub("a", "ee", lyric)
fruits_o <- gsub("a", "o", lyric)
lyric_e <- "intro" + "fruits_e"
lyric_e <- cbind(intro, fruits_e)
colors <-c("blue", "yellow", "red")
install.packages("stringr")
?paste
lyric_e <- paste(intro, fruits_e, collapse = NULL)
lyric_e <- paste(intro, fruits_e, collapse = NULL)
print(lyric_e)
print(intro, fruits_o)
?print
# Without making a new variable, print out the `intro` combined with the new
# `fruits_o` ending
print(intro, fruits_o, userSource = TRUE)
print(intro, fruits_o, userSource = TRUE)
?print
paste(intro, fruits_o, collapse = NULL)
# Create a new variable `lyric_e` that is the `intro` combined with the new
# `fruits_e` ending. Print out this variable
lyric_e <- paste(intro, fruits_e)
print(lyric_e)
paste(intro, fruits_o)
min(3, 10, pi)
smallest <- min(3, 10, pi)
smallest
add_three <- function(value) {
sum <- value + 3
return (sum)# return the result
}
add_three(1)
ten <- add_three(7)
then
ten
imperial_to_metric <- function(feet, inches) {
first <- feet / 3.28
second <- inches / 39.3701
return (first, second)
}
height_in_meters(5.6)
height_in_meters <- imperial_to_metric(5.6)
imperial_to_metric <- function(feet, inches) {
first <- feet / 3.28
meters <- feet / 3.28 + inches / 39.37
return (meters)
}
height_in_meters <- imperial_to_metric(5, 6)
height_in_meters
# Add a "dinner" element to your `meals` list that has what you plan to eat
# for dinner
meals$dinner <- c("curry", "rice")
# Create a vector `my_breakfast` of everything you ate for breakfast
my_breakfast <- c("toast", "eggs", "tea")
# Create a vector `my_lunch` of everything you ate (or will eat) for lunch
my_lunch <- c("soup", "pb + j")
# Create a list `meals` that has contains your breakfast and lunch
meals <- list(breakfast = my_breakfast, lunch = my_lunch)
# Add a "dinner" element to your `meals` list that has what you plan to eat
# for dinner
meals$dinner <- c("curry", "rice")
# Exercise 1: creating and accessing lists
# Create a vector `my_breakfast` of everything you ate for breakfast
my_breakfast <- c("toast", "eggs", "tea")
# Create a vector `my_lunch` of everything you ate (or will eat) for lunch
my_lunch <- c("soup", "pb + j")
# Create a list `meals` that has contains your breakfast and lunch
meals <- list(breakfast = my_breakfast, lunch = my_lunch)
# Add a "dinner" element to your `meals` list that has what you plan to eat
# for dinner
meals$dinner <- c("curry", "rice")
# Use dollar notation to extract your `dinner` element from your list
# and save it in a vector called 'dinner'
dinner <- meals$dinner
# Use double-bracket notation to extract your `lunch` element from your list
# and save it in your list as the element at index 5 (no reason beyond practice)
meals[[5]] <- meals[["lunch"]]
# Use single-bracket notation to extract your breakfast and lunch from your list
# and save them to a list called `early_meals`
early_meals <- meals[1:2]
### Challenge ###
# Create a list that has the number of items you ate for each meal
# Hint: use the `lappy()` function to apply the `length()` function to each item
items <- lapply(meals, length)
# Write a function `add_pizza` that adds pizza to a given meal vector, and
# returns the pizza-fied vector
add_pizza <- function(meal) {
meal <- c(meal, "pizza")
meal  # return the new vector
}
# Create a vector `better_meals` that is all your meals, but with pizza!
better_meals <- lapply(meals, add_pizza)
heights <- 58:63
weights <- 117:122
my_data <- data.frame(heights, weights)
my_data
dim (my_data)
View(my_data)
# Create a vector of the number of points the Seahawks scored in the first 4 games
# of the season (google "Seahawks" for the scores!)
scores1 <- c(12 3 37 27)
# Create a vector of the number of points the Seahwaks have allowed to be scored
# against them in each of the first 4 games of the season
scores2 <- c(18, 9, 18, 17)
# Combine your two vectors into a dataframe called `games`
games <- scores1$score2
# Combine your two vectors into a dataframe called `games`
games <- scores1$scores2
games <- c(a, b)
a <- c(12 3 37 27)
# Create a vector of the number of points the Seahwaks have allowed to be scored
# against them in each of the first 4 games of the season
b <- c(18, 9, 18, 17)
# Combine your two vectors into a dataframe called `games`
games <- c(a, b)
a <- c(12 3 37 27)
# Create a vector of the number of points the Seahwaks have allowed to be scored
# against them in each of the first 4 games of the season
b <- c(18, 9, 18, 17)
# Combine your two vectors into a dataframe called `games`
games <- c(a, b)
a <- c(12 3 37 27)
# Create a vector of the number of points the Seahwaks have allowed to be scored
# against them in each of the first 4 games of the season
b <- c(18, 9, 18, 17)
# Combine your two vectors into a dataframe called `games`
games <- c(a, b)
a <- c(12 3 37 27)
# Create a vector of the number of points the Seahwaks have allowed to be scored
# against them in each of the first 4 games of the season
b <- c(18, 9, 18, 17)
# Combine your two vectors into a dataframe called `games`
games <- c(a, b)
a <- c(12 3 37 27)
scores <- c(12 3 37 27)
scores <- c(12, 3, 37, 27)
scores_allowed <- c(18, 9, 18, 17)
games <- data.frame(scores, scores_allowed)
View(games)
game$diff <- game$scores - game$scores_allowed
# Create a new column "won" which is TRUE if the Seahawks won the game
games$won <- game$diff > 0
games <- data.frame(scores, scores_allowed)
# Create a new column "diff" that is the difference in points between the teams
# Hint: recall the syntax for assigning new elements (which in this case will be
# a vector) to a list!
games$diff <- game$scores - game$scores_allowed
# Create a new column "won" which is TRUE if the Seahawks won the game
games$won <- game$diff > 0
games$diff <- games$scores - games$scores_allowed
# Create a new column "won" which is TRUE if the Seahawks won the game
games$won <- games$diff > 0
# Create a vector of the opponent na
View(games)
Evector <- paste("Employee")
Evector
# Create a vector of 100 employees ("Employee 1", "Employee 2", ... "Employee 100")
# Hint: use the `paste()` function and vector recycling to add a number to the word
# "Employee"
Evector <- paste("Employee", 5)
Evector
Evector <- paste("Employee", 1:100)
Evector
?runif()
Salaries <- runif(100, min = 40000, max = 50000)
Salaries_2018 <- Salaries_2017 + runif(100, min = -5000, max = 10000)
Salaries_2017 <- runif(100, min = 40000, max = 50000)
Salaries_2018 <- Salaries_2017 + runif(100, min = -5000, max = 10000)
salaries <- data.frame(Employees, Salaries_2017, Salaries_2018, stringsAsFactors=FALSE)
salaries <- data.frame(Employee, Salaries_2017, Salaries_2018, stringsAsFactors=FALSE)
Employee <- paste("Employee", 1:100)
# Create a vector of 100 random salaries for the year 2017
# Use the `runif()` function to pick random numbers between 40000 and 50000
Salaries_2017 <- runif(100, min = 40000, max = 50000)
# Create a vector of 100 salaries in 2018 that have changed from 2017
# Use `runif()` to add a random number between -5000 and 10000 to each of 2017's
# salaries (the negative number means that a salary may have decreased!)
Salaries_2018 <- Salaries_2017 + runif(100, min = -5000, max = 10000)
# Create a data frame 'salaries' by combining the 3 vectors you just made
# Remember to set `stringsAsFactors=FALSE`!
salaries <- data.frame(Employee, Salaries_2017, Salaries_2018, stringsAsFactors=FALSE)
salaries$change <- Salaries_2018 - Salaries_2017
# Create a column 'got_raise' that is TRUE if the person got a raise (their
# salary went up)
salaries$got_raise <- salaries$change > 0
source('~/Desktop/info201/a2-core-skills-jenli36/assignment.R')
source('~/Desktop/info201/a2-core-skills-jenli36/assignment.R')
source('~/Desktop/info201/a2-core-skills-jenli36/assignment.R')
source('~/Desktop/info201/ch9-data-frames/exercise-2/exercise.R')
the_data <- data.frame(USPersonalExpenditure, stringsAsFactors = False)
View(the_data)
source('~/Desktop/info201/ch9-data-frames/exercise-3/exercise.R')
library(splyr)
widths <- select(iris, Speal.Width, Petal.Width)
iris[,Sepal.Width]
install.packages(splyr)
library(splyr)
widths <- select(iris, Speal.Width, Petal.Width)
iris[,Sepal.Width]
install.packages("splyr")
library(splyr)
widths <- select(iris, Speal.Width, Petal.Width)
iris[,Sepal.Width]
install.packages("splyr")
library(splyr)
widths <- select(iris, Sepal.Width, Petal.Width)
iris[,Sepal.Width]
install.packages("dplyr")
source('~/Desktop/info201/ch10-dplyr/exercise-2/exercise.R')
library(fueleconomy)
# Install and load the "dplyr" library
install.packages("dplyr")
library("dplyr")
makes <- select(vehicles, make)
makes <- select(vehicles, make)
iris
iris %>% filter(Petal. Length > 2) %>% filter (Petal.Width == max(Petal.Width)) %>% paste("is the best flower")
iris %>% filter(Petal.Length > 2) %>% filter (Petal.Width == max(Petal.Width)) %>% paste("is the best flower")
VIew
View()
source('~/Desktop/info201/ch10-dplyr/exercise-3/exercise.R')
source('~/Desktop/info201/ch10-dplyr/exercise-3/exercise.R')
acuras <- filter(vehicles, make == 'Acura', year == 2015)
best_acura <- filter(acuras, hwy == max(hwy))
best_model <- select(best_acura, model)
# Which 2015 Acura model has the best hwy MPG? (Use dplyr, nesting functions)
best_model <- select(
filter(
filter(vehicles, make == 'Acura', year == 2015), hwy == max(hwy)
), model
)
# Which 2015 Acura model has the best hwy MPG? (Use dplyr and the pipe operator)
best_model <- filter(vehicles, make == 'Acura', year == 2015) %>%
filter(hwy == max(hwy)) %>%
select(model)
View(mtcars)
select(mtcars, mpg, cyl)
library(dplyr)
select(mtcars, mpg, cyl)
%>% filter(cyl == 4)
select(mtcars, mpg, cyl) %>%
filter(cyl == 4)
library(dplyr)
select(mtcars, mpg, cyl) %>%
filter(cyl == 4)
mutate(double_cyl = cyl * 2)
library(dplyr)
select(mtcars, mpg, cyl) %>%
filter(cyl == 4)%>%
mutate(double_cyl = cyl * 2)
library(dplyr)
select(mtcars, mpg, cyl) %>%
filter(cyl == 4)%>%
mutate(double_cyl = cyl * 2
mpg_per_cyl = mpg / cyl)
library(dplyr)
select(mtcars, mpg, cyl) %>%
filter(cyl == 4)%>%
mutate(double_cyl = cyl * 2,
mpg_per_cyl = mpg / cyl)
temp$mpg[3]
tmp$mpg[3]
library(nycflights13)
library9
library(nycflights13)
library(nycflights13)
library(nycflights3)
install.packages("nycflights13")
library("dplyr")
library("nycflights13")
nrow("nycflights13")
nrow(nycflights13)
View(nycflights13)
View("nycflights13")
nrow(flights)
View
View(flights)
ncol(flights)
colnames(flights)
??flights
flights <- mutate(flights, flight_in_air = arr_delay - dep_delay)
flights
hist(flights$flight_in_air)
flights <- flights %>%
arrange(-time_gained)
flights <- flights %>%
arrange(-flight_in_air)
summarize(flights, mean = mean(flight_in_air, na.rm = T))
jfk_sea <- flights %>%
filter(origin == "JFK", dest == "SEA") %>%
select (origin, dest, flight_in_air)
flights
summarize(jfk_sea, mean = mean(flight_in_air, na.rm = T))
summary <- flights %<%
filter(origin = "JFK", dest == "SEA") %>%
summarise(
avg_time = mean(flight_in_air, na.rm = T),
min_time = min(flight_in_air, na.rm = T),
max_time = max(flight_in_air, na.rm = T)
)
summary <- flights %>%
filter(origin = "JFK", dest == "SEA") %>%
summarise(
avg_time = mean(flight_in_air, na.rm = T),
min_time = min(flight_in_air, na.rm = T),
max_time = max(flight_in_air, na.rm = T)
)
summary <- flights %>%
filter(origin == "JFK", dest == "SEA") %>%
summarise(
avg_time = mean(flight_in_air, na.rm = T),
min_time = min(flight_in_air, na.rm = T),
max_time = max(flight_in_air, na.rm = T)
)
flights %>%
group_by(origin) %>%
summarize(avg_delay = mean(dep_delay, NA.RM =T))
dep_delay_by_month <- group_by(month, dep_delay)
dep_delay_by_month <- group_by(flights, month)
View(dep_delay_by_month)
View(dep_delay_by_month)
summarize(dep_delay_by_month = mean(dep_delay))
summarize(dep_delay_by_month = mean(dep_delay))
dep_delay_by_month <- group_by(flights, month) %>%
summarize(dep_delay_by_month = mean(dep_delay))
View(dep_delay_by_month)
library(nycflights13)
library(dplyr)
# What was the average departure delay in each month?
# Save this as a data frame `dep_delay_by_month`
# Hint: you'll have to perform a grouping operation then summarizing your data
dep_delay_by_month <- group_by(flights, month) %>%
summarize(dep_delay_by_month = mean(dep_delay))
dep_delay_by_month <- group_by(flights, month) %>%
summarize(dep_delay_by_month = mean(dep_delay), na.rm == T)
dep_delay_by_month <- flights %>% group_by(month) %>%
summarize(dep_delay_by_month = mean(dep_delay), na.rm == TRUE)
dep_delay_by_month <- flights %>% group_by(month) %>%
summarize(dep_delay_by_month = mean(dep_delay), na.rm = TRUE)
dep_delay_by_month
dep_delay_by_month <- flights %>% group_by(month) %>%
summarize(average_delay = mean(dep_delay), na.rm = TRUE)
View(dep_delay_by_month)
View(dep_delay_by_month)
dep_delay_by_month <- flights %>% group_by(month) %>%
summarize(average_delay = mean(dep_delay, na.rm = TRUE))
View(dep_delay_by_month)
View(dep_delay_by_month)
filter(dep_delay_by_month, average_delay == max(average_delay)) %>% select(month)
# If your above data frame contains just two columns (e.g., "month", and "delay" in that order), you can create
# a scatterplot by passing that data frame to the 'plot()' function
plot(dep_delay_by_month)
head(arr_delay_by_month)
library("dplyr")
View(cars)
View(women)
setwd("~/")
install.packages("gtrendsR")
library(gtrendsR)
res <- gtrends("Coco", geo = "US")
gtrends(
"obama", widget$status_code == 300
)
library(gtrendsR)
View(gtrends)
View(gtrendsR)
plot(lang_trend)
library(gtrendsR)
user <- ""
psw <- ""
gconnect(usr, psw)
gconnect(usr, psw)
install.packages("gtrendsR")
install.packages("gtrendsR")
library(gtrendsR)
library(gtrendsR)
gconnect(usr, psw)
library(gtrendsR)
res <- gtrends("Coco", geo = "US")
library(gtrendsR)
plot(gtrendsR::gtrends(keyword = "Superbowl", geo = "US", time = "2017-12-10 2018-01-20"))
gconnect("someuser", "somepassword")
install.packages("gtrendsR")
install.packages("gtrendsR")
library(gtrendsR)
library(gtrendsR)
res <- gtrends(c("nhl", "nba", "nfl"))
## plot (in default mode) as time series
plot(res)
## plot via googeVis to browser
## highlighting regions (probably countries) and cities
plot(res, type = "region")
plot(res, type = "cities")
res <- gtrends(c("nhl", "nba", "nfl"))
devtools::install_github("PMassicotte/gtrendsR")
library(gtrendsR)
res <- gtrends("Coco", geo = "US")
install.packages("curl")
install.packages("curl")
devtools::install_github("PMassicotte/gtrendsR")
library(gtrendsR)
res <- gtrends("Coco", geo = "US")
View(gtrendsR)
library(gtrendsR)
res <- gtrends("Coco", geo = "US")
if (!require("devtools")) install.packages("devtools")
devtools::install_github("PMassicotte/gtrendsR")
gtrends("obama")
setwd("~/Desktop/info201/Final-Project/scripts")
library(httr)
library(jsonlite)
source("api.R")
movie_id <- 383498
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
response <- GET(url(movie_id))
response <- GET(url_full)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)$results
view(body)
View(body)
View(response_content)
movie_id <- 383498
library(httr)
library(jsonlite)
source("api.R")
movie_id <- 383498
base_url <- "https://api.themoviedb.org"
resource <- paste0("/3/movie/", movie_id,"?api_key=", api_key)
url_full <- paste0(base_url, resource)
response <- GET(url_full)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)$results
body <- fromJSON(response_content)$results
=======
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
amir <- get_data("Zootopia")
p <- plot_ly(amir, x = ~vote_average, y = ~vote_count, z = ~release_date,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'), showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
x = 1.13,
y = 1.05,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
p
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
amir <- get_data("Zootopia")
p <- plot_ly(amir, x = ~vote_count, y = ~vote_average, z = ~release_date, text ="amir",
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
x = 1.13,
y = 1.05,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
p
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
amir <- get_data("Zootopia")
p <- plot_ly(amir, text = ~original_title, x = ~vote_count, y = ~vote_average, z = ~release_date,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
x = 1.13,
y = 1.05,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
p
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
amir <- get_data("Zootopia")
p <- plot_ly(amir, x = ~vote_count, y = ~vote_average, z = ~release_date,
text = ~original_title,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
x = 1.13,
y = 1.05,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
p
source('C:/Users/Amirm/OneDrive/DOC/University_of_Washington/Spring_2018/INFO 201/info/Final-Project/scripts/movie.R', echo=TRUE)
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
amir <- get_data("Zootopia")
p <- plot_ly(amir, x = ~vote_count, y = ~vote_average, z = ~release_date,
text = ~original_title,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
x = 1.6,
y = 1.5,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
amir <- get_data("Zootopia")
p <- plot_ly(amir, x = ~vote_count, y = ~vote_average, z = ~release_date,
text = ~original_title,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
amir <- get_data("Zootopia")
p <- plot_ly(amir, x = ~vote_count, y = ~vote_average, z = ~release_date,
text = ~original_title,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
x = 1.13,
y = 1.05,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
dataset <- get_data("Zootopia")
p <- plot_ly(dataset, x = ~release_date, y = ~vote_average, z = ~vote_count,
text = ~original_title,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
x = 1.13,
y = 1.05,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
amir <- get_data("Zootopia")
p <- plot_ly(amir, x = ~release_date, y = ~vote_count, z = ~vote_average,
text = ~original_title,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Date'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Vote Average')),
annotations = list(
x = 1.13,
y = 1.05,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
data <- read.csv(file = "../data/tmdb_data.csv")
movie_name <- "Black Panther"
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
amir <- get_data("Zootopia")
p <- plot_ly(amir, x = ~vote_count, y = ~vote_average, z = ~release_date,
text = ~original_title,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
x = 1.13,
y = 1.05,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
library(httr)
library(jsonlite)
library(dplyr)
library(plotly)
source("api.R")
# Reads in the tmbd data file ---------------------------------------------
data <- read.csv(file = "../data/tmdb_data.csv")
# GIven a movie name, will find the id of that movie ----------------------
id_finder <- function(movie_name){
movie <- filter(data, title == movie_name)
return(movie$id)
}
# Based on a given movie name, gets movie recommendation data -------------
get_data <- function(movie_name){
movie_id <- id_finder(movie_name)
url <- paste0("https://api.themoviedb.org/3/movie/", movie_id,
"/recommendations?api_key=", api_key)
response <- GET(url)
response_content <- content(response, type = "text")
body <- fromJSON(response_content)
return(flatten(body$results))
}
# Returns movie recommendation based on the movie name and maximum of 20
# recommendation
recommendation <- function(movie_name, count) {
body <- get_data(movie_name)
if(count > 20){
return(body[["results"]][["original_title"]])
}else{
return(head(body[["results"]][["original_title"]], count))
}
}
# returns a 3d plot of the recommended movies based on their vote count,
# vote average and date of released
three_d_rec <- function(movie_name){
dataset <- get_data(movie_name)
p <- plot_ly(dataset, x = ~vote_count, y = ~vote_average, z = ~release_date,
text = ~original_title,
marker = list(color = ~vote_average, colorscale = c('#FFE1A1', '#683531'),
showscale = TRUE)) %>%
add_markers() %>%
layout(title = "Recommendation Analysis", scene = list(scene="amir",
xaxis = list(title = 'Vote Average'),
yaxis = list(title = 'Vote Count'),
zaxis = list(title = 'Date')),
annotations = list(
x = 1.13,
y = 1.05,
text = 'Vote Average',
xref = 'paper',
yref = 'paper',
showarrow = FALSE
))
return(p)
}
>>>>>>> b90aac7a6d9d756de7ca149cea9219175c29646a
